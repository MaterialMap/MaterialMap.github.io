<!DOCTYPE html>
<html>
<head>
    <title>Test MAT_ADD and MAT_THERMAL Extraction</title>
</head>
<body>
    <h1>Test MAT_ADD and MAT_THERMAL Extraction</h1>
    <div id="results"></div>

    <script>
        // Copy the extraction functions from scripts.js
        function determineMatAddInfo(matAddData) {
          if (!matAddData) return null;
          
          const lines = matAddData.split('\n');
          if (lines.length === 0) return null;
          
          let firstLine = lines[0].trim();
          if (firstLine.endsWith('_TITLE')) {
            firstLine = firstLine.slice(0, -6); // Remove '_TITLE'
          }
          
          return firstLine;
        }

        function determineMatThermalInfo(matThermalData) {
          if (!matThermalData) return null;
          
          const lines = matThermalData.split('\n');
          if (lines.length === 0) return null;
          
          let firstLine = lines[0].trim();
          if (firstLine.endsWith('_TITLE')) {
            firstLine = firstLine.slice(0, -6); // Remove '_TITLE'
          }
          
          return firstLine;
        }

        // Test data
        const testMatAddData = `*MAT_ADD_INELASTICITY_TITLE
Low-density polyethylene (LDPE) with Bergström-Boyce model
$ Borrvall, T., Bengzon, F., Jonsson, A., & Lindvall, M. (2021). Using
$ MAT_ADD_INELASTICITY for Modelling of Polymeric Networks. In Proceedings of
$ the 13th European LS-DYNA Conference. DYNAmore GmbH.
$--------1---------2---------3---------4---------5---------6---------7---------8
$#     MID  NIELINKS         G
         1         4      1.e7`;

        const testMatThermalData = `*MAT_THERMAL_ISOTROPIC_TITLE
Thermal properties
$ Author, A. (Year). Title of the paper/source
$--------1---------2---------3---------4---------5---------6---------7---------8
$#    TMID        RO        TG      TGRL        HC
         1    7.85e-6      20.0       0.0     460.0`;

        // Run tests
        const matAddResult = determineMatAddInfo(testMatAddData);
        const matThermalResult = determineMatThermalInfo(testMatThermalData);

        // Display results
        document.getElementById('results').innerHTML = `
            <h2>Test Results:</h2>
            <p><strong>MAT_ADD extraction:</strong> ${matAddResult}</p>
            <p><strong>Expected:</strong> *MAT_ADD_INELASTICITY</p>
            <p><strong>Status:</strong> ${matAddResult === '*MAT_ADD_INELASTICITY' ? '✅ PASS' : '❌ FAIL'}</p>
            <br>
            <p><strong>MAT_THERMAL extraction:</strong> ${matThermalResult}</p>
            <p><strong>Expected:</strong> *MAT_THERMAL_ISOTROPIC</p>
            <p><strong>Status:</strong> ${matThermalResult === '*MAT_THERMAL_ISOTROPIC' ? '✅ PASS' : '❌ FAIL'}</p>
        `;
    </script>
</body>
</html>